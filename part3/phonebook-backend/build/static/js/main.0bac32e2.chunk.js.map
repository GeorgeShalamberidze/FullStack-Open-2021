{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Contacts.js","components/FilteredContacts.js","services/module.js","components/Notification.js","App.js","index.js"],"names":["Filter","search","handleSearch","onSubmit","e","preventDefault","placeholder","value","onChange","PersonForm","newName","handleChange","newNumber","numberChange","handleSubmit","type","Contacts","persons","deleteGod","map","person","style","display","name","number","onClick","id","FilteredContacts","filteredContacts","p","URL","obj","axios","post","then","res","data","get","put","delete","Notification","message","error","className","App","useState","setPersons","setNewName","setNewNumber","setSearch","notification","setNotification","handleError","setHandleError","filter","toLowerCase","includes","useEffect","service","target","duplicate","find","some","window","confirm","duplicateContact","newContact","catch","err","console","log","changeNumber","setTimeout","alert","concat","response","clickedOne","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0bac32e2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Filter({ search, handleSearch }) {\r\n    return (\r\n        <div>\r\n            <form onSubmit={(e) => e.preventDefault()}>\r\n                <div>\r\n                    <input placeholder=\"Search...\" value={search} onChange={handleSearch} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nfunction PersonForm({newName, handleChange, newNumber, numberChange, handleSubmit}) {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleChange} placeholder=\"enter name...\" />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={numberChange} placeholder=\"enter number...\" />\r\n            </div>\r\n\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nfunction Contacts({ persons, deleteGod }) {\r\n    return (\r\n        <div>\r\n            <h2>Contacts: </h2>\r\n            {persons.map(person => {\r\n                return (\r\n                    <div key={person.id}>\r\n                        <p style={{ display: \"inline-block\" }}>{person.name} {person.number}</p>\r\n                        <button type=\"button\" onClick={(e) => {\r\n                            e.preventDefault()\r\n                            deleteGod(person.id)\r\n                        }}> delete</button>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Contacts\r\n","import React from 'react'\r\n\r\nfunction FilteredContacts({filteredContacts}) {\r\n    return (\r\n        <div>\r\n            <h1>Filtered: </h1>\r\n            {filteredContacts.map(p => {\r\n                return (\r\n                    <p key={p.id}>{p.name} {p.number}</p>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilteredContacts\r\n","import axios from 'axios'\r\nconst URL = \"/api/persons\"\r\n\r\nconst create = (obj) => {\r\n    const request = axios.post(URL, obj)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(URL)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst update = (id, obj) => {\r\n    const request = axios.put(`${URL}/${id}`, obj)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nconst deleteUser = (id) => {\r\n    const request = axios.delete(`${URL}/${id}`)\r\n    return request.then(res => res.data)\r\n}\r\n\r\nexport default { create, getAll, update, deleteUser }","import React from 'react'\r\n\r\nfunction Notification({ message, error }) {\r\n    if (message == null && error == null) {\r\n        return null\r\n    }\r\n\r\n    else if (error) {\r\n        return (\r\n            <div className=\"error\">\r\n                {error}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"action\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from \"./components/PersonForm\"\nimport Contacts from './components/Contacts'\nimport FilteredContacts from \"./components/FilteredContacts\"\nimport service from './services/module'\nimport Notification from \"./components/Notification\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [handleError, setHandleError] = useState(null)\n\n  let filteredContacts = search == '' ? [] : persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\n\n  const changeNumber = (id) => {\n    const duplicateContact = persons.find(p => p.id === id)\n    const newContact = { ...duplicateContact, number: newNumber }\n\n    service\n      .update(id, newContact)\n      .then(res => {\n        setPersons(persons.map(p => p.id !== id ? p : res))\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  useEffect(() => {\n    service\n      .getAll()\n      .then(res => {\n        setPersons(res)\n      })\n  }, [])\n\n  const handleSubmit = (e) => {\n    const duplicate = persons.find(p => p.name === newName)\n    e.preventDefault()\n\n    if (persons.some(p => p.name === newName)) {\n      if (window.confirm(`${duplicate.name} already exists. Want to replace old number with current one ?`)) {\n        changeNumber(duplicate.id)\n        setNotification(`${duplicate.name}'s number has been changed`)\n        setTimeout(() => {\n          setNotification(null)\n        }, 4000)\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n    else if (!newNumber === \"\" && persons.some(p => p.number === newNumber) && persons.some(p => p.name === newName)) {\n      alert(`${newNumber} Already Exists`)\n    }\n    else if (!newNumber == \"\" && !newName == \"\") {\n      const personObj = {\n        name: newName,\n        number: newNumber\n      }\n      service\n        .create(personObj)\n        .then(res => {\n          setPersons(persons.concat(res))\n          setNewName('')\n          setNewNumber('')\n          setNotification(`${res.name} has been added`)\n          setTimeout(() => {\n            setNotification(null)\n          }, 4000)\n        })\n        .catch(err => {\n          setHandleError(err.response.data.error)\n          setTimeout(() => {\n            setHandleError(null)\n          }, 4000)\n        })\n    }\n  }\n\n  const deleteGod = (id) => {\n    const clickedOne = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${clickedOne.name} ?`)) {\n      service\n        .deleteUser(id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== id))\n          setNewName('')\n          setNewNumber('')\n          console.log(res)\n        })\n        .catch(err => {\n          setHandleError(`Contact: ${clickedOne.name} has already been deleted`)\n          setTimeout(() => {\n            setHandleError(null)\n          }, 4000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const handleChange = (e) => setNewName(e.target.value)\n  const handleNumberChange = (e) => setNewNumber(e.target.value)\n  const handleSearch = (e) => setSearch(e.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notification}\n        error={handleError}\n      />\n      <Filter\n        search={search}\n        handleSearch={handleSearch}\n      />\n      <h2>Add new Contact</h2>\n      <PersonForm\n        newName={newName}\n        handleChange={handleChange}\n        newNumber={newNumber}\n        numberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <Contacts\n        persons={persons}\n        deleteGod={deleteGod}\n      />\n      <FilteredContacts filteredContacts={filteredContacts} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}